const n=(()=>{const w=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);let u;(function(r){r[r.GROUP=1]="GROUP",r[r.CAT=2]="CAT",r[r.SYMBOL=3]="SYMBOL",r[r.OR=4]="OR",r[r.STAR=5]="STAR",r[r.LITERAL=6]="LITERAL",r[r.SLASH=7]="SLASH",r[r.DOT=8]="DOT"})(u||(u={}));const y=typeof window<"u",A="-._~!$&'()*+,;=:@".split("").map(r=>r.charCodeAt(0)),R=[["a","z"],["A","Z"],["0","9"]].map(r=>r.map(t=>t.charCodeAt(0))),f={CJS:{define(r){module&&(module.exports=r)},isSupported(){return typeof module=="object"}},AMD:{define(r){define&&define([],function(){return r})},isSupported(){return typeof define=="function"&&!!define.amd}},UMD:{define(r){if(f.AMD.isSupported())f.AMD.define(r);else if(f.CJS.isSupported())try{f.CJS.define(r)}catch(t){if(t.name!=="TypeError")throw t}},isSupported(){return f.AMD.isSupported()||f.CJS.isSupported()}},ESM:{define(){},isSupported(){return!0}},NIL:{define(){},isSupported(){return!0}},DTS:{define(r){f.ESM.define(r)},isSupported(){return f.ESM.isSupported()}}};class S extends Error{constructor(...t){super("Route missing required keys: ".concat(t.join(", "))),this.keys=t,Object.setPrototypeOf(this,Object.getPrototypeOf(this)),this.name=S.name}}const O=["anchor","trailing_slash","subdomain","host","port","protocol","script_name"];class k{constructor(){this.configuration={prefix:"",default_url_options:{},special_options_key:"_options",serializer:this.default_serializer.bind(this)}}default_serializer(t,e){if(this.is_nullable(t))return"";if(!e&&!this.is_object(t))throw new Error("Url parameters should be a javascript hash");e=e||"";const i=[];if(this.is_array(t))for(const a of t)i.push(this.default_serializer(a,e+"[]"));else if(this.is_object(t))for(let a in t){if(!w(t,a))continue;let s=t[a];this.is_nullable(s)&&e&&(s=""),this.is_not_nullable(s)&&(e&&(a=e+"["+a+"]"),i.push(this.default_serializer(s,a)))}else this.is_not_nullable(t)&&i.push(encodeURIComponent(e)+"="+encodeURIComponent(""+t));return i.join("&")}serialize(t){return this.configuration.serializer(t)}extract_options(t,e){const i=e[e.length-1];return e.length>t&&i===0||this.is_object(i)&&!this.looks_like_serialized_model(i)?(this.is_object(i)&&delete i[this.configuration.special_options_key],{args:e.slice(0,e.length-1),options:i}):{args:e,options:{}}}looks_like_serialized_model(t){return this.is_object(t)&&!(this.configuration.special_options_key in t)&&("id"in t||"to_param"in t||"toParam"in t)}path_identifier(t){const e=this.unwrap_path_identifier(t);return this.is_nullable(e)?"":""+e}unwrap_path_identifier(t){let e=t;return this.is_object(t)?("to_param"in t?e=t.to_param:"toParam"in t?e=t.toParam:"id"in t?e=t.id:e=t,this.is_callable(e)?e.call(t):e):t}partition_parameters(t,e,i,a){let{args:s,options:_}=this.extract_options(t.length,a);if(s.length>t.length)throw new Error("Too many parameters provided for path");let l=s.length>e.length;const c={...this.configuration.default_url_options};for(const o in _){const d=_[o];w(_,o)&&(l=!0,t.includes(o)&&(c[o]=d))}_={...this.configuration.default_url_options,...i,..._};const m={};let p={};for(const o in _){if(!w(_,o))continue;const d=_[o];if(o==="params")if(this.is_object(d))p={...p,...d};else throw new Error("params value should always be an object");else this.is_reserved_option(o)?m[o]=d:!this.is_nullable(d)&&(d!==i[o]||e.includes(o))&&(p[o]=d)}const h=l?t:e;let g=0;for(const o of h)if(g<s.length){const d=s[g];w(c,o)||(p[o]=d,++g)}return{keyword_parameters:m,query_parameters:p}}build_route(t,e,i,a,s,_){const{keyword_parameters:l,query_parameters:c}=this.partition_parameters(t,e,i,_);let{trailing_slash:m,anchor:p,script_name:h}=l;const g=e.filter(v=>!w(c,v)||this.is_nullable(c[v]));if(g.length)throw new S(...g);let o=this.get_prefix()+this.visit(a,c);m&&(o=o.replace(/(.*?)[/]?$/,"$1/"));const d=this.serialize(c);if(d.length&&(o+="?"+d),p&&(o+="#"+p),h){const v=h.length-1;h[v]=="/"&&o[0]=="/"&&(h=h.slice(0,v)),o=h+o}return s&&(o=this.route_url(l)+o),o}visit(t,e,i=!1){switch(t[0]){case u.GROUP:return this.visit(t[1],e,!0);case u.CAT:return this.visit_cat(t,e,i);case u.SYMBOL:return this.visit_symbol(t,e,i);case u.STAR:return this.visit_globbing(t[1],e,!0);case u.LITERAL:case u.SLASH:case u.DOT:return t[1];default:throw new Error("Unknown Rails node type")}}is_not_nullable(t){return!this.is_nullable(t)}is_nullable(t){return t==null}visit_cat([t,e,i],a,s){const _=this.visit(e,a,s);let l=this.visit(i,a,s);return s&&(this.is_optional_node(e[0])&&!_||this.is_optional_node(i[0])&&!l)?"":(_[_.length-1]==="/"&&l[0]==="/"&&(l=l.substring(1)),_+l)}visit_symbol([t,e],i,a){const s=this.path_identifier(i[e]);if(delete i[e],s.length)return this.encode_segment(s);if(a)return"";throw new S(e)}encode_segment(t){return t.match(/^[a-zA-Z0-9-]$/)?t:(t.match(/./gu)||[]).map(e=>{const i=e.charCodeAt(0);return R.find(a=>i>=a[0]&&i<=a[1])||A.includes(i)?e:encodeURIComponent(e)}).join("")}is_optional_node(t){return[u.STAR,u.SYMBOL,u.CAT].includes(t)}build_path_spec(t,e=!1){let i;switch(t[0]){case u.GROUP:return"(".concat(this.build_path_spec(t[1]),")");case u.CAT:return this.build_path_spec(t[1])+this.build_path_spec(t[2]);case u.STAR:return this.build_path_spec(t[1],!0);case u.SYMBOL:return i=t[1],e?(i.startsWith("*")?"":"*")+i:":"+i;case u.SLASH:case u.DOT:case u.LITERAL:return t[1];default:throw new Error("Unknown Rails node type")}}visit_globbing(t,e,i){const a=t[1];let s=e[a];if(delete e[a],this.is_nullable(s))return this.visit(t,e,i);this.is_array(s)&&(s=s.join("/"));const _=this.path_identifier(s);return encodeURI(_)}get_prefix(){const t=this.configuration.prefix;return t.match("/$")?t.substring(0,t.length-1):t}route(t,e,i=!1){const a=[],s=[],_={};for(const[c,{r:m,d:p}]of Object.entries(t))s.push(c),m&&a.push(c),this.is_not_nullable(p)&&(_[c]=p);const l=(...c)=>this.build_route(s,a,_,e,i,c);return l.requiredParams=()=>a,l.toString=()=>this.build_path_spec(e),l}route_url(t){const e=t.host||this.current_host();if(!e)return"";const i=t.subdomain?t.subdomain+".":"",a=t.protocol||this.current_protocol();let s=t.port||(t.host?void 0:this.current_port());return s=s?":"+s:"",a+"://"+i+e+s}current_host(){var t;return y&&((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.hostname)||""}current_protocol(){var t,e;return y&&((e=(t=window==null?void 0:window.location)===null||t===void 0?void 0:t.protocol)===null||e===void 0?void 0:e.replace(/:$/,""))||"http"}current_port(){var t;return y&&((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.port)||""}is_object(t){return typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"}is_array(t){return t instanceof Array}is_callable(t){return typeof t=="function"&&!!t.call}is_reserved_option(t){return O.includes(t)}configure(t){return t.prefix&&console.warn("JsRoutes configuration prefix option is deprecated in favor of default_url_options.script_name."),this.configuration={...this.configuration,...t},this.configuration}config(){return{...this.configuration}}is_module_supported(t){return f[t].isSupported()}ensure_module_supported(t){if(!this.is_module_supported(t))throw new Error("".concat(t," is not supported by runtime"))}define_module(t,e){return this.ensure_module_supported(t),f[t].define(e),e}}const b=new k,L={r(r,t,e){return b.route(r,t,e)}};return b.define_module("ESM",{...L,configure:r=>b.configure(r),config:()=>b.config(),serialize:r=>b.serialize(r)})})();n.configure;n.config;n.serialize;const C=n.r({assistant_thread_id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"ai"],[2,[7,"/"],[2,[6,"assistant_threads"],[2,[7,"/"],[2,[3,"assistant_thread_id"],[2,[7,"/"],[2,[6,"messages"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),j=n.r({instance_id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"instances"],[2,[7,"/"],[2,[3,"instance_id"],[2,[7,"/"],[2,[6,"results"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),z=n.r({instance_id:{r:!0},id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"instances"],[2,[7,"/"],[2,[3,"instance_id"],[2,[7,"/"],[2,[6,"runs"],[2,[7,"/"],[2,[3,"id"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]),E=n.r({instance_id:{r:!0},run_id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"instances"],[2,[7,"/"],[2,[3,"instance_id"],[2,[7,"/"],[2,[6,"runs"],[2,[7,"/"],[2,[3,"run_id"],[2,[7,"/"],[2,[6,"code_reviews"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]),M=n.r({format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"leads"],[1,[2,[8,"."],[3,"format"]]]]]]]),U=n.r({format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"user"],[1,[2,[8,"."],[3,"format"]]]]]]]),q=n.r({format:{}},[2,[7,"/"],[2,[6,"auth_vk_id"],[2,[7,"/"],[2,[6,"callback"],[1,[2,[8,"."],[3,"format"]]]]]]]),P=n.r({format:{}},[2,[7,"/"],[2,[6,"auth_yandex_id"],[2,[7,"/"],[2,[6,"callback"],[1,[2,[8,"."],[3,"format"]]]]]]]),x=n.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"code_reviews"],[2,[7,"/"],[2,[3,"id"],[1,[2,[8,"."],[3,"format"]]]]]]]),D=n.r({format:{}},[2,[7,"/"],[2,[6,"code_reviews"],[1,[2,[8,"."],[3,"format"]]]]]),I=n.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"instances"],[2,[7,"/"],[2,[3,"id"],[2,[7,"/"],[2,[6,"heartbeat"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),$=n.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"instances"],[2,[7,"/"],[2,[3,"id"],[1,[2,[8,"."],[3,"format"]]]]]]]),B=n.r({format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"user"],[2,[7,"/"],[2,[6,"last_viewed_notification"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),T=n.r({format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"user"],[2,[7,"/"],[2,[6,"lead_modal_shown"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),J=n.r({format:{}},[2,[7,"/"],[2,[6,"management"],[2,[7,"/"],[2,[6,"assistant_thread_messages"],[1,[2,[8,"."],[3,"format"]]]]]]]),Y=n.r({format:{}},[2,[7,"/"],[2,[6,"management"],[2,[7,"/"],[2,[6,"project_members_messages"],[1,[2,[8,"."],[3,"format"]]]]]]]),G=n.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"management"],[2,[7,"/"],[2,[6,"teaching_stuff"],[2,[7,"/"],[2,[6,"users"],[2,[7,"/"],[2,[3,"id"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),H=n.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"programs"],[2,[7,"/"],[2,[3,"id"],[1,[2,[8,"."],[3,"format"]]]]]]]),Z=n.r({project_id:{r:!0},member_id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"projects"],[2,[7,"/"],[2,[3,"project_id"],[2,[7,"/"],[2,[6,"members"],[2,[7,"/"],[2,[3,"member_id"],[2,[7,"/"],[2,[6,"reviews"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]),W=n.r({instance_id:{r:!0},id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"instances"],[2,[7,"/"],[2,[3,"instance_id"],[2,[7,"/"],[2,[6,"runs"],[2,[7,"/"],[2,[3,"id"],[2,[7,"/"],[2,[6,"restart"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]),F=n.r({},[7,"/"]),K=n.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"api"],[2,[7,"/"],[2,[6,"instances"],[2,[7,"/"],[2,[3,"id"],[2,[7,"/"],[2,[6,"solution"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),Q=n.r({id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"api_internal"],[2,[7,"/"],[2,[6,"assignments"],[2,[7,"/"],[2,[3,"id"],[2,[7,"/"],[2,[6,"solution"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]),V=n.r({format:{}},[2,[7,"/"],[2,[6,"payments"],[2,[7,"/"],[2,[6,"success"],[1,[2,[8,"."],[3,"format"]]]]]]]),X=n.r({team_id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"teams"],[2,[7,"/"],[2,[3,"team_id"],[2,[7,"/"],[2,[6,"orders"],[1,[2,[8,"."],[3,"format"]]]]]]]]]),N=n.r({format:{}},[2,[7,"/"],[2,[6,"auth_yandex_id"],[2,[7,"/"],[2,[6,"token"],[1,[2,[8,"."],[3,"format"]]]]]]]),tt=n.r({question_id:{r:!0},id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"api_internal"],[2,[7,"/"],[2,[6,"questions"],[2,[7,"/"],[2,[3,"question_id"],[2,[7,"/"],[2,[6,"answers"],[2,[7,"/"],[2,[3,"id"],[2,[7,"/"],[2,[6,"unvote"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]),et=n.r({user_id:{r:!0}},[2,[7,"/"],[2,[6,"u"],[2,[7,"/"],[3,"user_id"]]]]),it=n.r({question_id:{r:!0},id:{r:!0},format:{}},[2,[7,"/"],[2,[6,"api_internal"],[2,[7,"/"],[2,[6,"questions"],[2,[7,"/"],[2,[3,"question_id"],[2,[7,"/"],[2,[6,"answers"],[2,[7,"/"],[2,[3,"id"],[2,[7,"/"],[2,[6,"vote"],[1,[2,[8,"."],[3,"format"]]]]]]]]]]]]]]]);export{Y as A,G as B,H as C,C as a,K as b,U as c,z as d,E as e,x as f,j as g,I as h,$ as i,D as j,V as k,M as l,T as m,B as n,tt as o,F as p,q,W as r,Q as s,X as t,et as u,it as v,N as w,P as x,J as y,Z as z};
